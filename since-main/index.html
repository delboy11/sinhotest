<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>나상신호등주기</title>
    <meta property="og:url" content="onjunseo.site">
    <meta property="og:image" content="https://search.pstatic.net/sunny/?src=https%3A%2F%2Fi.namu.wiki%2Fi%2FWF8etd53f--Hpnk8Nl-ENRhUYznzc16f5vQh51t_4OIomwc2Cu8sJ0P3aJ-fjkPSVOiowFsUVwWxAbksoGOFSw.webp&type=a340">
    <meta property="og:title" content="나루상가 신호등info">
    
    <meta property="og:description" content="나상 신호등 주기임ㅋ">
</head>

<body>
    <p id="display"></p>
    <p id="display1"></p>

    <style>
        .custom_zoomcontrol span {display:block;width:36px;height:40px;text-align:center;cursor:pointer;}     
        .custom_zoomcontrol span img {width:15px;height:15px;padding:12px 0;border:none;}             
        .custom_zoomcontrol span:first-child{border-bottom:1px solid #bfbfbf;}
    </style>
    <!-- 지도 확대, 축소 컨트롤 div 입니다 -->
    <div class="custom_zoomcontrol radius_border"> 
        <span onclick="zoomIn()"><img src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_plus.png" alt="확대"></span>  
        <span onclick="zoomOut()"><img src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/ico_minus.png" alt="축소"></span>
    </div>
    
    <div id="map" style="width: 3000px; height: 2000px;position:relative;right:300px;"></div>
    <button type="button" onclick="location.reload(true);">새로고침</button>

    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7ef40657408ed36391ff4a883ea362d8"></script>
    <script type="text/javascript">

        var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
        var options = { //지도를 생성할 때 필요한 기본 옵션
            center: new kakao.maps.LatLng(37.192848, 127.080515), //지도의 중심좌표.
            level: 1 //지도의 레벨(확대, 축소 정도)
        };

        var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴


        var positions = [
            {
                title: '신호등 1번',
                latlng: new kakao.maps.LatLng(37.194630, 127.075030)
            },
            {
                title: '신호등 2번',
                latlng: new kakao.maps.LatLng(37.194910, 127.074654)
            },
            {
                title: '신호등 3번',
                latlng: new kakao.maps.LatLng(37.194640, 127.074644) 
            },
            {
                title: '신호등 4번',
                latlng: new kakao.maps.LatLng(37.194910, 127.074964)
            },

            {
                title: '신호등 1번',
                latlng: new kakao.maps.LatLng(37.192668, 127.080435)
            },
            {
                title: '신호등 2번',
                latlng: new kakao.maps.LatLng(37.192336, 127.080356)
            },
            {
                title: '신호등 3번',
                latlng: new kakao.maps.LatLng(37.192431, 127.080236)
            }

        ];
        map.setZoomable(false);
        
        for (var i = 0; i < positions.length; i++) {

            var marker = new kakao.maps.Marker({  // 마커 생성
                map: map, // 마커를 표시할 지도
                position: positions[i].latlng, // 마커를 표시할 위치
                title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시 됨
            });
        }

        function zoomIn(){
            map.setLevel(map.getLevel() - 1);
        }
        
        // 지도 확대, 축소 컨트롤에서 축소 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
        function zoomOut() {
            map.setLevel(map.getLevel() + 1);
        }
        
        function clock(){
        var d= new Date();
        var total=d.getHours()*3600+d.getMinutes()*60+d.getSeconds()
        document.getElementById("display").innerHTML = d.getMinutes()
        document.getElementById("display1").innerHTML = d.getSeconds()
        var Ac = 170;
        var remain = 35;
        var A = [23,25,27,19,27,12,27,10]
        var Bc = 170;
        var B_remain = 154;
        var B = [25,11,25,13,19,77]

        function getPlus(con,arr){
        var k=0;
        for(var i=0; i<con; i++){
            k=k+arr[i];
        }
        return k;
        }

        //alert(getPlus(1,A));
        var iwPositioncontent = [
                {  //1
                    position: new kakao.maps.LatLng(37.194730, 127.075300), //인포윈도우 표시 위치입니다
                    content: '<div style="font-size:30px;width:300px; height:50px;">1번 남은시간: '+(Ac-(total-remain)%Ac)+'</div>'
                    
                },
                {  //1_
                    position: new kakao.maps.LatLng(37.194730, 127.075300), //인포윈도우 표시 위치입니다
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">1번 바뀌었습니다.'+ (getPlus(1,A)-(total-remain)%Ac)+'</div>'
                    
                },
                {   //2
                    position: new kakao.maps.LatLng(37.195010, 127.074450),
                    content: '<div style="font-size:30px;width:300px; height:50px;">2번 남은시간: '+(Ac-(total-remain-getPlus(2,A))%Ac)+'</div>'
                },
                {   //2_
                    position: new kakao.maps.LatLng(37.195010, 127.074450),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">2번 바뀌었습니다.'+(getPlus(3,A)-(total-remain)%Ac)+'</div>'
                },
                {   //3
                    position: new kakao.maps.LatLng(37.194730, 127.074450),
                    content: '<div style="font-size:30px;width:300px; height:50px;">3번 남은시간:'+(Ac-(total-remain-getPlus(4,A))%Ac)+'</div>'
                },
                {   //3_
                    position: new kakao.maps.LatLng(37.194730, 127.074450),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">3번 바뀌었습니다.'+(getPlus(5,A)-(total-remain)%Ac)+'</div>'
                },
                
                {   //4
                    position: new kakao.maps.LatLng(37.195010, 127.075300),
                    content: '<div style="font-size:30px;width:300px; height:50px;">4번 남은시간:'+(Ac-(total-remain-getPlus(6,A))%Ac)+'</div>'
                },
                {   //4_
                    position: new kakao.maps.LatLng(37.195010, 127.075300),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">4번 바뀌었습니다.'+(getPlus(7,A)-(total-remain)%Ac)+'</div>'
                },
                
        ]; 

        var jara =[
                {   //1
                    position: new kakao.maps.LatLng(37.192758, 127.080445),
                    content: '<div style="font-size:30px;width:300px; height:50px;">1번 남은시간: '+(Bc-(total-B_remain)%Bc)+'</div>'
                },
                {   //1_
                    position: new kakao.maps.LatLng(37.192758, 127.080445),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">1번 바뀌었습니다.'+ (getPlus(1,B)-(total-B_remain)%Bc)+'</div>'
                },
                {   //2
                    position: new kakao.maps.LatLng(37.192166, 127.080356),
                    content: '<div style="font-size:30px;width:300px; height:50px;">2번 남은시간: '+(Bc-(total-B_remain-getPlus(2,B))%Bc)+'</div>'
                },
                {   //2_
                    position: new kakao.maps.LatLng(37.192166, 127.080356),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">2번 바뀌었습니다.'+(getPlus(3,B)-(total-B_remain)%Bc)+'</div>'
                },
                {   //3
                    position: new kakao.maps.LatLng(37.192531, 127.079886),
                    content: '<div style="font-size:30px;width:300px; height:50px;">3번 남은시간:'+(Bc-(total-B_remain-getPlus(4,B))%Bc)+'</div>'
                },
                {   //3_
                    position: new kakao.maps.LatLng(37.192531, 127.079886),
                    content: '<div style="font-size:30px;width:300px; height:50px;background-color:#00ff00;">3번 바뀌었습니다.'+(getPlus(5,B)-(total-B_remain)%Bc)+'</div>'
                }

        ];
        

        // 나상 사거리
        // 인포윈도우를 생성합니다
        var i=0;
        if(0 <= (total-remain)%Ac && (total-remain)%Ac <= getPlus(1,A)){i=1;}
        var infowindow = new kakao.maps.InfoWindow({
                position: iwPositioncontent[i].position,
                content: iwPositioncontent[i].content
                
            });
        infowindow.open(map);
        var i=2;
        if(getPlus(2,A) <= (total-remain)%Ac && (total-remain)%Ac <= getPlus(3,A)){i=3;}
        var infowindow = new kakao.maps.InfoWindow({
                position: iwPositioncontent[i].position,
                content: iwPositioncontent[i].content
                
            });
        infowindow.open(map);
        var i=4;
        if(getPlus(4,A) <= (total-remain)%Ac  && (total-remain)%Ac <= getPlus(5,A)){i=5;}
        var infowindow = new kakao.maps.InfoWindow({
                position: iwPositioncontent[i].position,
                content: iwPositioncontent[i].content
                
            });
        infowindow.open(map);
        var i=6;
        if(getPlus(6,A) <= (total-remain)%Ac && (total-remain)%Ac <= getPlus(7,A)){i=7;}
        var infowindow = new kakao.maps.InfoWindow({
                position: iwPositioncontent[i].position,
                content: iwPositioncontent[i].content
                
            });
        infowindow.open(map);

        //-----------------------------------------------------------------------------------
        //자라뫼 근처


        var i=0;
        if(0 <= (total-B_remain)%Bc && (total-B_remain)%Bc <= getPlus(1,B)){i=1;}
        var infowindow = new kakao.maps.InfoWindow({
                position: jara[i].position,
                content: jara[i].content
                
            });
        infowindow.open(map);
        var i=2;
        if(getPlus(2,B) <= (total-B_remain)%Bc && (total-B_remain)%Bc <= getPlus(3,B)){i=3;}
        var infowindow = new kakao.maps.InfoWindow({
                position: jara[i].position,
                content: jara[i].content
                
            });
        infowindow.open(map);
        var i=4;
        if(getPlus(4,B) <= (total-B_remain)%Bc  && (total-B_remain)%Bc <= getPlus(5,B)){i=5;}
        var infowindow = new kakao.maps.InfoWindow({
                position: jara[i].position,
                content: jara[i].content
                
            });
        infowindow.open(map);
        
            
         
    }
    setInterval(clock,1000);
        // 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
    
        
    </script>
</body>

</html>
